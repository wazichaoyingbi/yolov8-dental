# YOLOv8 ç‰™é½¿æ£€æµ‹é¡¹ç›®

åŸºäº YOLOv8 çš„ç‰™é½¿æ£€æµ‹å’Œè¯†åˆ«é¡¹ç›®ï¼ŒåŒ…å«å®Œæ•´çš„æ•°æ®å¤„ç†ã€æ¨¡å‹è®­ç»ƒå’Œç»“æœå¯è§†åŒ–åŠŸèƒ½ã€‚

## é¡¹ç›®ç»“æ„

``` text
yolov8_teeth/
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ LICENSE                      # å¼€æºè®¸å¯è¯
â”œâ”€â”€ requirements.txt             # Pythonä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ demo.ipynb                   # ğŸ¯ äº¤äº’å¼æ£€æµ‹æ¼”ç¤ºNotebook
â”œâ”€â”€ datasets/                    # åŸå§‹æ•°æ®é›†ç›®å½•
â”‚   â””â”€â”€ dentalai/               # Dentalaiç‰™é½¿æ£€æµ‹æ•°æ®é›†
â”œâ”€â”€ preprocessed_datasets/       # ğŸ”„ é¢„å¤„ç†åçš„YOLOæ ¼å¼æ•°æ®é›†
â”‚   â””â”€â”€ dentalai/               # è½¬æ¢åçš„dentalaiæ•°æ®é›†
â”œâ”€â”€ models/                      # ğŸ“¦ é¢„è®­ç»ƒæ¨¡å‹å­˜å‚¨ç›®å½•
â”œâ”€â”€ outputs/                     # ğŸ† è®­ç»ƒè¾“å‡ºç»“æœç›®å½•
â”‚   â””â”€â”€ dentalai/               # dentalaiæ•°æ®é›†çš„è®­ç»ƒç»“æœ
â”œâ”€â”€ test_results/                # ğŸ“Š æ¨¡å‹æµ‹è¯•ç»“æœç›®å½•
â”œâ”€â”€ scripts/                     # ğŸš€ æ ¸å¿ƒè„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ __init__.py             
â”‚   â”œâ”€â”€ train.py                # ğŸ¯ ä¸»è®­ç»ƒè„šæœ¬ (æ ¸å¿ƒå…¥å£)
â”‚   â”œâ”€â”€ test.py                 # ğŸ“ˆ æ¨¡å‹æµ‹è¯•è¯„ä¼°è„šæœ¬
â”‚   â””â”€â”€ data_preprocessing/     # æ•°æ®é¢„å¤„ç†è„šæœ¬é›†åˆ
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ dentalai/          # Dentalaiæ•°æ®é›†å¤„ç†è„šæœ¬
â”‚           â”œâ”€â”€ dataset_extract.py   # æ•°æ®é›†è§£å‹å·¥å…·
â”‚           â””â”€â”€ dataset_convert.py   # æ ¼å¼è½¬æ¢å·¥å…· (Supervisely â†’ YOLO)
â””â”€â”€ utils/                       # ğŸ› ï¸ å·¥å…·æ¨¡å—åº“
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ demo_utils.py           # ğŸ¨ Demoæ¼”ç¤ºå·¥å…·ç±»
    â”œâ”€â”€ file_utils.py           # ğŸ“ æ–‡ä»¶æ“ä½œå·¥å…·
    â”œâ”€â”€ visualization.py        # ğŸ“Š æ•°æ®å¯è§†åŒ–å·¥å…·
    â”œâ”€â”€ metrics.py              # ğŸ“‹ æŒ‡æ ‡è®¡ç®—å’Œåˆ†æ
    â””â”€â”€ per_class_evaluator.py  # ğŸ” æ¯ç±»åˆ«æ€§èƒ½è¯„ä¼°å™¨
```

### ğŸ“‹ ç›®å½•åŠŸèƒ½è¯´æ˜ *ï¼ˆå¿…è¯»ï¼‰*

#### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ–‡ä»¶

- **`scripts/train.py`**: ä¸»è®­ç»ƒè„šæœ¬ï¼Œæ”¯æŒæ–­ç‚¹ç»­è®­å’Œå®Œæ•´çš„æ¨¡å‹è®­ç»ƒæµç¨‹
- **`scripts/test.py`**: æ¨¡å‹æµ‹è¯•è„šæœ¬ï¼Œæä¾›å…¨é¢çš„æ€§èƒ½è¯„ä¼°å’Œå¯è§†åŒ–
- **`demo.ipynb`**: äº¤äº’å¼Jupyteræ¼”ç¤ºï¼Œæ”¯æŒå•å¼ å›¾ç‰‡æ£€æµ‹å’Œå¯¹æ¯”åˆ†æ

#### ğŸ“‚ æ•°æ®ç›®å½•ç»“æ„

- **`datasets/`**: å­˜æ”¾åŸå§‹ä¸‹è½½çš„æ•°æ®é›†æ–‡ä»¶ï¼ˆå¦‚tarå‹ç¼©åŒ…ï¼‰
- **`preprocessed_datasets/`**: å­˜æ”¾è½¬æ¢ä¸ºYOLOæ ¼å¼çš„è®­ç»ƒæ•°æ®ï¼ŒåŒ…å«images/labelsç›®å½•å’Œdata.yamlé…ç½®
- **`outputs/`**: è®­ç»ƒç»“æœè¾“å‡ºï¼ŒæŒ‰æ—¶é—´æˆ³æ–‡ä»¶å¤¹ç»„ç»‡ï¼ŒåŒ…å«æ¨¡å‹æƒé‡ã€æ—¥å¿—ã€åˆ†æå›¾è¡¨ç­‰
- **`test_results/`**: æµ‹è¯•è¯„ä¼°ç»“æœï¼ŒåŒ…å«æ€§èƒ½æŒ‡æ ‡ã€å¯¹æ¯”å›¾è¡¨å’Œæ ·æœ¬å¯è§†åŒ–

#### ğŸ¨ æ•°æ®å¤„ç†è„šæœ¬

- **`scripts/data_preprocessing/dentalai/`**: ä¸“é—¨å¤„ç†Dentalaiæ•°æ®é›†çš„å·¥å…·
  - `dataset_extract.py`: è‡ªåŠ¨è§£å‹taræ ¼å¼çš„æ•°æ®é›†æ–‡ä»¶
  - `dataset_convert.py`: å°†Supervisely JSONæ ¼å¼è½¬æ¢ä¸ºYOLO txtæ ¼å¼

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†é¡¹ç›®åè¿›å…¥é¡¹ç›®æ ¹ç›®å½•
cd path/to/your/project/

# åˆ›å»º conda ç¯å¢ƒ
conda create --name yolov8_teeth python=3.9 -y

# æ¿€æ´» conda ç¯å¢ƒ
conda activate yolov8_teeth

# é…ç½®æ˜¾å¡é©±åŠ¨ã€CUDA ä¹‹åï¼Œå®‰è£…åˆé€‚çš„ PyTorch ç‰ˆæœ¬
# ä¾‹å¦‚ï¼šCUDA 12.1
conda install pytorch==2.5.1 torchvision==0.20.1 torchaudio==2.5.1 pytorch-cuda=12.1 -c pytorch -c nvidia
# ä¾‹å¦‚ï¼šCPU Only
conda install pytorch==2.5.1 torchvision==0.20.1 torchaudio==2.5.1 cpuonly -c pytorch

# å®‰è£…å…¶ä»–ä¾èµ–
pip install -r requirements.txt
```

### 2. æ•°æ®é›†å‡†å¤‡

ï¼ˆ1ï¼‰Dentalai æ•°æ®é›†

ä¸‹è½½åœ°å€ï¼š<https://datasetninja.com/dentalai>

å°† `tar` æ ¼å¼çš„å‹ç¼©åŒ…ä¸‹è½½åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `datasets/dentalai` æ–‡ä»¶å¤¹ä¸­ã€‚

```bash
# è§£å‹æ•°æ®é›†
python scripts/data_preprocessing/dentalai/dataset_extract.py

# è½¬æ¢ä¸º YOLO æ ¼å¼
python scripts/data_preprocessing/dentalai/dataset_convert.py
```

ï¼ˆ2ï¼‰ã€‚ã€‚ã€‚

### 3. è®­ç»ƒæ¨¡å‹

```bash
# ğŸš€ ç«‹å³è®­ç»ƒï¼ï¼ˆé»˜è®¤å‚æ•°ï¼Œè‡ªåŠ¨é€‰æ‹© GPU æˆ– CPUï¼‰
python scripts/train.py
```

### 4. è¿›é˜¶è®­ç»ƒ

``` bash
# æŒ‡å®šè½®æ•°
python scripts/train.py --epochs 50
python scripts/train.py -e 100

# æŒ‡å®šæ¨¡å‹
python scripts/train.py --model yolov8n --epochs 50
python scripts/train.py -m yolov8s -e 100

# å®Œæ•´å‚æ•°ç¤ºä¾‹
python scripts/train.py -m yolov8l -e 200 -b 32 --imgsz 1024 --device 0 --patience 50

# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
python scripts/train.py --help
```

## è®­ç»ƒå‚æ•°è¯¦è§£

### é»˜è®¤å‚æ•°

ä½¿ç”¨ `python scripts/train.py` å‘½ä»¤æ—¶çš„é»˜è®¤é…ç½®ï¼š

- æ¨¡å‹: yolov8m
- è®­ç»ƒè½®æ•°: 30
- æ‰¹é‡å¤§å°: 16
- å›¾åƒå°ºå¯¸: 640x640
- è®­ç»ƒè®¾å¤‡: è‡ªåŠ¨é€‰æ‹©
- æ•°æ®ç›®å½•: ./preprocessed_datasets/dentalai
- è¾“å‡ºç›®å½•: ./outputs/dentalai
- æ—¥å¿—è®°å½•: å¼€å¯

### è‡ªå®šä¹‰å‚æ•°

#### æ¨¡å‹å‚æ•°

| å‚æ•°      | ç®€å†™ | ç±»å‹ | é»˜è®¤å€¼    | è¯´æ˜     | ç¤ºä¾‹                                                  |
| --------- | ---- | ---- | --------- | -------- | ----------------------------------------------------- |
| `--model` | `-m` | str  | "yolov8m" | æ¨¡å‹ç±»å‹ | `yolov8n`, `yolov8s`, `yolov8m`, `yolov8l`, `yolov8x` |

#### è®­ç»ƒæ§åˆ¶å‚æ•°

| å‚æ•°       | ç®€å†™ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜         | ç¤ºä¾‹                         |
| ---------- | ---- | ---- | ------ | ------------ | ---------------------------- |
| `--epochs` | `-e` | int  | 30     | è®­ç»ƒè½®æ•°     | `-e 100`                     |
| `--batch`  | `-b` | int  | 16     | æ‰¹é‡å¤§å°     | `-b 32`, `-b -1` (è‡ªåŠ¨)      |
| `--imgsz`  | -    | int  | 640    | è¾“å…¥å›¾åƒå°ºå¯¸ | `--imgsz 1024`               |
| `--device` | -    | str  | "auto" | è®­ç»ƒè®¾å¤‡     | `--device 0`, `--device cpu` |

#### æ•°æ®å’Œè¾“å‡ºå‚æ•°

| å‚æ•°           | ç®€å†™ | ç±»å‹ | é»˜è®¤å€¼                         | è¯´æ˜       | ç¤ºä¾‹              |
| -------------- | ---- | ---- | ------------------------------ | ---------- | ----------------- |
| `--data_dir`   | `-d` | str  | "./preprocessed_datasets/dentalai" | æ•°æ®é›†ç›®å½• | `-d ./my_dataset` |
| `--output_dir` | `-o` | str  | "./outputs/dentalai"               | è¾“å‡ºç›®å½•   | `-o ./results`    |

#### é«˜çº§è®­ç»ƒå‚æ•°

| å‚æ•°            | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜           | ç¤ºä¾‹              |
| --------------- | ---- | ------ | -------------- | ----------------- |
| `--patience`    | int  | 30     | æ—©åœè€å¿ƒå€¼     | `--patience 50`   |
| `--save_period` | int  | 10     | ä¿å­˜æ£€æŸ¥ç‚¹é—´éš” | `--save_period 5` |

#### æ–­ç‚¹ç»­è®­å‚æ•°

| å‚æ•°           | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜                           | ç¤ºä¾‹                              |
| -------------- | ---- | ------ | ------------------------------ | --------------------------------- |
| `--resume`     | str  | None   | æ–­ç‚¹ç»­è®­æ£€æŸ¥ç‚¹                 | `--resume auto`, `--resume path/to/last.pt` |
| `--resume_dir` | str  | None   | æŒ‡å®šç»­è®­çš„è¾“å‡ºç›®å½•è·¯å¾„         | `--resume_dir ./outputs/train_xxx` |

#### è¾“å‡ºæ§åˆ¶å‚æ•°

| å‚æ•°        | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜             |
| ----------- | ---- | ------ | ---------------- |
| `--nolog`   | flag | False  | ç¦ç”¨æ—¥å¿—å’Œå¯è§†åŒ– |
| `--verbose` | flag | False  | æ˜¾ç¤ºè¯¦ç»†è®­ç»ƒä¿¡æ¯ |

## è¾“å‡ºç»“æœ

è®­ç»ƒå®Œæˆåä¼šåœ¨ `outputs/dentalai/` ï¼ˆå¯é€šè¿‡è®­ç»ƒè„šæœ¬å‘½ä»¤è¡Œå‚æ•° `--output_dir` æŒ‡å®šï¼‰ç›®å½•ç”Ÿæˆä»¥æ—¶é—´æˆ³å‘½åçš„è®­ç»ƒæ–‡ä»¶å¤¹ï¼š

```text
outputs/dentalai/
â””â”€â”€ train_yolov8n_2ep_2025_08_14_09_14_07/  # ğŸ•’ æ—¶é—´æˆ³æ–‡ä»¶å¤¹
    â”œâ”€â”€ weights/                            # ğŸ“¦ æ¨¡å‹æƒé‡æ–‡ä»¶
    â”‚   â”œâ”€â”€ best.pt                        # éªŒè¯é›†ä¸Šæœ€ä½³æ¨¡å‹æƒé‡
    â”‚   â”œâ”€â”€ last.pt                        # æœ€åä¸€è½®è®­ç»ƒæƒé‡
    â”‚   â””â”€â”€ epoch*.pt                      # å„è½®æ¬¡ä¿å­˜çš„æƒé‡æ–‡ä»¶
    â”œâ”€â”€ logs/                              # ğŸ“Š è®­ç»ƒæ—¥å¿—å’Œå›¾è¡¨
    â”‚   â”œâ”€â”€ training_metrics.csv           # åŸå§‹è®­ç»ƒæŒ‡æ ‡æ•°æ®
    â”‚   â”œâ”€â”€ training_metrics.png           # è®­ç»ƒæŒ‡æ ‡å¯è§†åŒ–å›¾è¡¨
    â”‚   â””â”€â”€ records/                       # è®­ç»ƒè¿‡ç¨‹è®°å½•å›¾ç‰‡
    â”‚       â”œâ”€â”€ train_batch*.jpg           # è®­ç»ƒæ‰¹æ¬¡æ ·æœ¬å›¾
    â”‚       â”œâ”€â”€ val_batch*_labels.jpg      # éªŒè¯é›†æ ‡ç­¾å›¾
    â”‚       â””â”€â”€ val_batch*_pred.jpg        # éªŒè¯é›†é¢„æµ‹å›¾
    â”œâ”€â”€ analysis/                          # ğŸ“ˆ è¯¦ç»†åˆ†æå›¾è¡¨
    â”‚   â”œâ”€â”€ BoxF1_curve.png               # F1åˆ†æ•°æ›²çº¿å›¾
    â”‚   â”œâ”€â”€ BoxPR_curve.png               # ç²¾ç¡®ç‡-å¬å›ç‡æ›²çº¿
    â”‚   â”œâ”€â”€ BoxP_curve.png                # ç²¾ç¡®ç‡æ›²çº¿å›¾
    â”‚   â”œâ”€â”€ BoxR_curve.png                # å¬å›ç‡æ›²çº¿å›¾
    â”‚   â”œâ”€â”€ confusion_matrix.png          # æ··æ·†çŸ©é˜µå›¾
    â”‚   â”œâ”€â”€ confusion_matrix_normalized.png # æ ‡å‡†åŒ–æ··æ·†çŸ©é˜µ
    â”‚   â”œâ”€â”€ per_class_metrics.png         # æ¯ç±»åˆ«æŒ‡æ ‡å¯¹æ¯”å›¾
    â”‚   â””â”€â”€ README.md                     # åˆ†ææŠ¥å‘Šè¯´æ˜
    â””â”€â”€ meta/                             # ğŸ”§ å…ƒæ•°æ®å’Œé…ç½®
        â”œâ”€â”€ args.yaml                     # è®­ç»ƒå‚æ•°é…ç½®
        â”œâ”€â”€ labels.jpg                    # æ•°æ®é›†æ ‡ç­¾åˆ†å¸ƒå›¾
        â””â”€â”€ labels_correlogram.jpg        # æ ‡ç­¾ç›¸å…³æ€§å›¾
```

### ğŸš¨ é‡è¦è¯´æ˜ï¼šæ—¶é—´æˆ³æ–‡ä»¶å¤¹å‘½åè§„åˆ™

**æ–‡ä»¶å¤¹å‘½åæ ¼å¼**: `train_{model}_{epochs}ep_{YYYY_MM_DD_HH_MM_SS}`

- `{model}`: ä½¿ç”¨çš„æ¨¡å‹ç±»å‹ (yolov8n/yolov8s/yolov8m/yolov8l/yolov8x)
- `{epochs}`: è®­ç»ƒè½®æ•°
- `{YYYY_MM_DD_HH_MM_SS}`: è®­ç»ƒå¼€å§‹çš„æ—¶é—´æˆ³

**ç¤ºä¾‹æ–‡ä»¶å¤¹åç§°**:

- `train_yolov8m_30ep_2025_08_14_14_30_25` - ä½¿ç”¨yolov8mæ¨¡å‹ï¼Œ30è½®è®­ç»ƒï¼Œ2025å¹´8æœˆ14æ—¥14:30:25å¼€å§‹
- `train_yolov8n_100ep_2025_08_14_09_15_32` - ä½¿ç”¨yolov8næ¨¡å‹ï¼Œ100è½®è®­ç»ƒï¼Œ2025å¹´8æœˆ14æ—¥09:15:32å¼€å§‹

### ğŸ“ è¾“å‡ºæ–‡ä»¶è¯¦ç»†è¯´æ˜

#### 1. weights/ - æ¨¡å‹æƒé‡ç›®å½•

- **`best.pt`**: ğŸ† åœ¨éªŒè¯é›†ä¸Šè¡¨ç°æœ€ä½³çš„æ¨¡å‹æƒé‡ï¼ˆæ¨èç”¨äºæ¨ç†ï¼‰
- **`last.pt`**: ğŸ”„ æœ€åä¸€è½®è®­ç»ƒçš„æ¨¡å‹æƒé‡ï¼ˆç”¨äºæ–­ç‚¹ç»­è®­ï¼‰  
- **`epoch*.pt`**: ğŸ’¾ æ ¹æ®`--save_period`å‚æ•°å®šæœŸä¿å­˜çš„æƒé‡æ–‡ä»¶

#### 2. logs/ - è®­ç»ƒæ—¥å¿—ç›®å½•

- **`training_metrics.csv`**: ğŸ“‹ åŒ…å«æ‰€æœ‰è®­ç»ƒè½®æ¬¡çš„è¯¦ç»†æŒ‡æ ‡æ•°æ®
- **`training_metrics.png`**: ğŸ“Š è®­ç»ƒè¿‡ç¨‹å¯è§†åŒ–å›¾è¡¨ï¼ˆæŸå¤±æ›²çº¿ã€ç²¾åº¦æŒ‡æ ‡ç­‰ï¼‰
- **`records/`**: ğŸ“¸ è®­ç»ƒè¿‡ç¨‹çš„æ ·æœ¬å›¾ç‰‡è®°å½•

#### 3. analysis/ - åˆ†æå›¾è¡¨ç›®å½•

- **å„ç±»æ›²çº¿å›¾**: è¯¦ç»†çš„æ€§èƒ½åˆ†æå›¾è¡¨
- **æ··æ·†çŸ©é˜µ**: æ¨¡å‹åˆ†ç±»æ•ˆæœçš„ç›´è§‚å±•ç¤º
- **æ¯ç±»åˆ«æŒ‡æ ‡**: å„æ£€æµ‹ç±»åˆ«çš„ç‹¬ç«‹æ€§èƒ½åˆ†æ

#### 4. meta/ - å…ƒæ•°æ®ç›®å½•

- **`args.yaml`**: ğŸ”§ å®Œæ•´çš„è®­ç»ƒå‚æ•°é…ç½®ï¼ˆç”¨äºå¤ç°å®éªŒï¼‰
- **æ ‡ç­¾åˆ†æå›¾**: æ•°æ®é›†çš„æ ‡ç­¾åˆ†å¸ƒå’Œç›¸å…³æ€§åˆ†æ

### ğŸ”¥ æ–­ç‚¹ç»­è®­æ”¯æŒ

æ—¶é—´æˆ³æ–‡ä»¶å¤¹æ”¯æŒå®Œæ•´çš„æ–­ç‚¹ç»­è®­åŠŸèƒ½ï¼š

```bash
# è‡ªåŠ¨ä»æœ€æ–°è®­ç»ƒç»§ç»­
python scripts/train.py --resume auto

# æŒ‡å®šå…·ä½“çš„è®­ç»ƒæ–‡ä»¶å¤¹ç»§ç»­
python scripts/train.py --resume_dir ./outputs/dentalai/train_yolov8m_30ep_2025_08_14_14_30_25
```

## æ¨¡å‹æµ‹è¯•

è®­ç»ƒå®Œæˆåï¼Œä½¿ç”¨ `scripts/test.py` å¯¹æ¨¡å‹è¿›è¡Œå…¨é¢è¯„ä¼°å’Œå¯è§†åŒ–åˆ†æã€‚

### ğŸš€ å¿«é€Ÿæµ‹è¯•

```bash
# è‡ªåŠ¨é€‰æ‹©æœ€æ–°è®­ç»ƒçš„æ¨¡å‹è¿›è¡Œæµ‹è¯•
python scripts/test.py

# æŒ‡å®šç‰¹å®šæ¨¡å‹æ–‡ä»¶
python scripts/test.py --model ./outputs/dentalai/train_yolov8m_30ep_2025_08_14_14_30_25/weights/best.pt
```

### ğŸ“‹ æµ‹è¯•å‚æ•°

| å‚æ•°              | ç®€å†™ | ç±»å‹  | é»˜è®¤å€¼                           | è¯´æ˜                 |
| ----------------- | ---- | ----- | -------------------------------- | -------------------- |
| `--model`         | `-m` | str   | None (è‡ªåŠ¨æŸ¥æ‰¾)                  | æ¨¡å‹æ–‡ä»¶è·¯å¾„         |
| `--data`          | `-d` | str   | "./preprocessed_datasets/dentalai/data.yaml" | æ•°æ®é…ç½®æ–‡ä»¶         |
| `--output_dir`    | `-o` | str   | "./test_results"                 | æµ‹è¯•ç»“æœè¾“å‡ºç›®å½•     |
| `--samples`       | `-s` | int   | 10                               | å¯è§†åŒ–å¯¹æ¯”æ ·æœ¬æ•°é‡   |
| `--conf_threshold`| `-c` | float | 0.3                              | é¢„æµ‹ç½®ä¿¡åº¦é˜ˆå€¼       |

### ğŸ¯ æµ‹è¯•ç¤ºä¾‹

```bash
# å®Œæ•´å‚æ•°æµ‹è¯•
python scripts/test.py -m ./outputs/dentalai/train_yolov8m_30ep_2025_08_14_14_30_25/weights/best.pt \
                       -d ./preprocessed_datasets/dentalai/data.yaml \
                       -o ./my_test_results \
                       -s 20 \
                       -c 0.5

# å¿«é€Ÿæµ‹è¯•ï¼ˆä½¿ç”¨é»˜è®¤å‚æ•°ï¼‰
python scripts/test.py --model ./outputs/dentalai/train_yolov8m_30ep_2025_08_14_14_30_25/weights/best.pt
```

### ğŸ“Š æµ‹è¯•è¾“å‡ºç»“æœ

æµ‹è¯•å®Œæˆåï¼Œä¼šåœ¨æŒ‡å®šè¾“å‡ºç›®å½•ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

```text
test_results/
â””â”€â”€ test_yolov8m_2025_08_14_15_30_45/     # æ—¶é—´æˆ³æ–‡ä»¶å¤¹
    â”œâ”€â”€ logs/                             # ğŸ“Š æµ‹è¯•æ—¥å¿—å’ŒæŒ‡æ ‡
    â”‚   â”œâ”€â”€ training_metrics.csv          # åŸå§‹è®­ç»ƒæŒ‡æ ‡å¤åˆ¶
    â”‚   â”œâ”€â”€ training_metrics.png          # è®­ç»ƒè¿‡ç¨‹å›¾è¡¨
    â”‚   â”œâ”€â”€ enhanced_metrics_analysis.png # å¢å¼ºæŒ‡æ ‡åˆ†æå›¾
    â”‚   â”œâ”€â”€ metrics_report.md             # è¯¦ç»†æŒ‡æ ‡æŠ¥å‘Š  
    â”‚   â”œâ”€â”€ per_class_metrics.png         # æ¯ç±»åˆ«æŒ‡æ ‡å›¾
    â”‚   â””â”€â”€ per_class_report.md           # æ¯ç±»åˆ«è¯¦ç»†æŠ¥å‘Š
    â”œâ”€â”€ analysis/                         # ğŸ“ˆ æµ‹è¯•åˆ†æå›¾è¡¨
    â”‚   â”œâ”€â”€ BoxF1_curve.png              # F1åˆ†æ•°æ›²çº¿
    â”‚   â”œâ”€â”€ BoxPR_curve.png              # ç²¾ç¡®ç‡-å¬å›ç‡æ›²çº¿  
    â”‚   â”œâ”€â”€ confusion_matrix.png         # æ··æ·†çŸ©é˜µ
    â”‚   â””â”€â”€ per_class_metrics.png        # æ¯ç±»åˆ«æ€§èƒ½å¯¹æ¯”
    â””â”€â”€ samples/                          # ğŸ–¼ï¸ æ ·æœ¬å¯¹æ¯”å¯è§†åŒ–
        â”œâ”€â”€ sample_001_comparison.jpg     # çœŸå®vsé¢„æµ‹å¯¹æ¯”å›¾
        â”œâ”€â”€ sample_002_comparison.jpg
        â””â”€â”€ ...
```

## Demo

`demo.ipynb` æä¾›ä¸¤ç§æ£€æµ‹æ¨¡å¼ï¼š

1. **ğŸ“Š æµ‹è¯•é›†å›¾ç‰‡æ£€æµ‹** - å¸¦çœŸå®æ ‡ç­¾å¯¹æ¯”åˆ†æ
2. **ğŸ” ä»»æ„å›¾ç‰‡æ£€æµ‹** - ä»…æ˜¾ç¤ºæ¨¡å‹é¢„æµ‹ç»“æœ

## å¸¸è§é—®é¢˜

### Q: æ‰¹é‡å¤§å°å¦‚ä½•è®¾ç½®ï¼Ÿ

- æ ¹æ®æ˜¾å­˜å¤§å°è°ƒæ•´: 8GBæ˜¾å­˜å»ºè®®16-32
- ä½¿ç”¨ `-b -1` è®©ç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©æœ€å¤§å¯ç”¨æ‰¹é‡å¤§å°
- æ‰¹é‡å¤§å°è¶Šå¤§ï¼Œè®­ç»ƒè¶Šç¨³å®šï¼Œä½†éœ€è¦æ›´å¤šæ˜¾å­˜

### Q: è®­ç»ƒè®¾å¤‡å¦‚ä½•é€‰æ‹©ï¼Ÿ

- `--device auto`: è‡ªåŠ¨é€‰æ‹©æœ€ä½³è®¾å¤‡
- `--device 0`: ä½¿ç”¨ç¬¬ä¸€å—GPU
- `--device cpu`: ä½¿ç”¨CPUï¼ˆé€Ÿåº¦è¾ƒæ…¢ï¼‰

## ä¾èµ–è¦æ±‚

- **Python >= 3.8** (æ”¯æŒ 3.8, æ¨è 3.9+)
- Ultralytics >= 8.0.0
- å…¶ä»–ä¾èµ–è§ `requirements.txt`

## è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ª MIT è®¸å¯è¯ã€‚
